---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Card from '../../../components/Card.astro';
import { getCollection } from 'astro:content';
import { useTranslations } from '../../../i18n/index';

const t = useTranslations('en');
const articles = await getCollection('articles', e => e.id.startsWith('en/'));
articles.sort((a, b) => b.data.date.localeCompare(a.data.date));
---
<BaseLayout title="Articles - SÃ©rgio Carvalho" description="Articles on statistics, data science and machine learning">
  <div class="max-w-6xl mx-auto px-4 py-12">
    <h1 class="text-3xl font-bold mb-4">{t('articles.title')}</h1>
    <p class="text-slate-600 dark:text-slate-300 mb-10">{t('articles.subtitle')}</p>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {articles.map(a => (
        <Card title={a.data.title} description={a.data.description} href={`/en/articles/${a.slug.replace('en/', '')}`} tags={a.data.tags} date={a.data.date} type="article" />
      ))}
    </div>
  </div>
</BaseLayout>
